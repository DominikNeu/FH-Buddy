Weather As CanvasComponent:
    Fill: =RGBA(0, 0, 0, 0)
    Height: =75
    Width: =150
    X: =0
    Y: =0
    ZIndex: =2

    WeatherImage As image:
        BorderColor: =RGBA(0, 18, 107, 1)
        DisabledBorderColor: =RGBA(166, 166, 166, 1)
        DisabledFill: =RGBA(244, 244, 244, 1)
        Height: =58
        Image: |
            =If(
                _weather.responses.weather.current.cap = "Cloudy", Cloudy,
                _weather.responses.weather.current.cap = "Mostly Cloudy", PartlyCloudy, 
                "snow" in _weather.responses.weather.current.cap, Snowy, 
                "sun" in _weather.responses.weather.current.cap, Sunny, 
                "rain" in _weather.responses.weather.current.cap, Rainy, 
                weather
            )
        Width: =58
        X: =6
        Y: =9
        ZIndex: =1

    LoadingTimer As timer:
        AutoPause: =false
        AutoStart: =true
        Color: =RGBA(0, 0, 0, 0)
        DisplayMode: =DisplayMode.Disabled
        Duration: =0
        Fill: =RGBA(0, 0, 0, 0)
        Height: =31
        HoverColor: =RGBA(255, 255, 255, 1)
        HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
        OnTimerEnd: |-
            =//get weather for user's location
            Enable(Location);
            If(
                !IsBlank(Location.Latitude) && !IsBlank(Location.Longitude),
                Set(
                    _weather,
                    MSNWetter.CurrentWeather(
                        Location.Latitude & "," & Location.Longitude,
                        "Metric"
                    )
                );
                
            )
        Text: |
            =
        Width: =85
        ZIndex: =2

    Temperature As label:
        Align: =Align.Center
        BorderColor: =RGBA(0, 18, 107, 1)
        Color: =RGBA(0, 0, 0, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        DisplayMode: =DisplayMode.View
        Font: =Font.Arial
        Height: =58
        Size: =30
        Text: =If(!IsBlank(_weather),_weather.responses.weather.current.temp & "Â°", Text("--"))
        Width: =66
        X: =74
        Y: =9
        ZIndex: =3

